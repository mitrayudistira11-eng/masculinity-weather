<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Weather Simulator PRO + Lightning</title>

<style>
body{
margin:0;
font-family:sans-serif;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
color:white;
overflow:hidden;
transition:1s;
}

/* SKY */
#sky{
position:fixed;
inset:0;
overflow:hidden;
pointer-events:none;
}

/* SUN / MOON */
.sunMoon{
position:absolute;
width:120px;
height:120px;
border-radius:50%;
top:15%;
left:50%;
transform:translateX(-50%);
}
.sun{background:radial-gradient(circle,#fff799,#ffb347,#ff8800);box-shadow:0 0 80px rgba(255,180,0,.9);}
.moon{background:radial-gradient(circle,#fff,#ccc,#999);box-shadow:0 0 30px rgba(255,255,255,.6);}

/* CLOUD */
.clouds{
position:absolute;
inset:0;
filter:blur(10px);
opacity:0;
background:
radial-gradient(circle at 30% 40%,rgba(255,255,255,.6) 60px,transparent 70px),
radial-gradient(circle at 60% 30%,rgba(255,255,255,.6) 70px,transparent 80px);
}

/* STARS */
.stars{
position:absolute;
inset:0;
opacity:0;
background:
radial-gradient(2px 2px at 20% 30%,white 60%,transparent),
radial-gradient(2px 2px at 70% 60%,white 60%,transparent);
}

/* ===== RAIN ===== */
.rain{position:absolute;inset:0;overflow:hidden;opacity:0;}
.drop{
position:absolute;
width:2px;
height:18px;
background:rgba(255,255,255,.9);
border-radius:2px;
transform:rotate(20deg);
animation:fall linear infinite;
}
@keyframes fall{
from{transform:translate(-20px,-20px) rotate(20deg)}
to{transform:translate(120px,110vh) rotate(20deg)}
}

/* ===== FOG ===== */
.fog{
position:absolute;
inset:0;
opacity:0;
filter:blur(40px);
background:
radial-gradient(circle at 40% 40%,rgba(255,255,255,.25),transparent 60%),
radial-gradient(circle at 70% 60%,rgba(255,255,255,.2),transparent 60%);
}

/* ===== PETIR FLASH ===== */
.flash{
position:absolute;
inset:0;
background:white;
opacity:0;
pointer-events:none;
}

/* PANEL */
.panel{
position:relative;
z-index:10;
background:rgba(0,0,0,.6);
padding:25px;
border-radius:20px;
text-align:center;
}
button{
margin:5px;
padding:8px 14px;
border:none;
border-radius:10px;
cursor:pointer;
}
</style>
</head>

<body>

<div id="sky">
  <div id="sunMoon" class="sunMoon"></div>
  <div id="clouds" class="clouds"></div>
  <div id="stars" class="stars"></div>
  <div id="rain" class="rain"></div>
  <div id="fog" class="fog"></div>
  <div id="flash" class="flash"></div>
</div>

<div class="panel">
<button onclick="setWeather('clear')">‚òÄÔ∏è Clear</button>
<button onclick="setWeather('clouds')">üå§Ô∏è Cloud</button>
<button onclick="setWeather('rain')">üåßÔ∏è Rain</button>
<button onclick="setWeather('storm')">‚õàÔ∏è Storm</button>
<button onclick="setWeather('mist')">üå´Ô∏è Fog</button>
<button onclick="setWeather('night')">üåô Night</button>
</div>

<script>
const sunMoon=document.getElementById("sunMoon");
const clouds=document.getElementById("clouds");
const stars=document.getElementById("stars");
const rain=document.getElementById("rain");
const fog=document.getElementById("fog");
const flash=document.getElementById("flash");

let lightningInterval=null;

function reset(){
clouds.style.opacity=0;
stars.style.opacity=0;
rain.style.opacity=0;
fog.style.opacity=0;
rain.innerHTML="";

clearInterval(lightningInterval);
flash.style.opacity=0;
}

/* HUJAN */
function createRain(n){
for(let i=0;i<n;i++){
const d=document.createElement("div");
d.className="drop";
d.style.left=Math.random()*100+"%";
d.style.animationDuration=(0.3+Math.random()*0.5)+"s";
d.style.animationDelay=Math.random()+"s";
rain.appendChild(d);
}
}

/* PETIR */
function startLightning(){
lightningInterval=setInterval(()=>{
if(Math.random()<0.4){ // peluang muncul
flash.style.opacity=0.9;
setTimeout(()=>flash.style.opacity=0,80);
setTimeout(()=>{
flash.style.opacity=0.6;
setTimeout(()=>flash.style.opacity=0,60);
},120);
}
},20000);
}

function setWeather(type){

reset();

/* default: sembunyikan dulu */
sunMoon.style.display="none";

if(type==="clear"){
document.body.style.background="#4facfe";
sunMoon.className="sunMoon sun";
sunMoon.style.display="block";
}

if(type==="clouds"){
document.body.style.background="#2F80ED";
sunMoon.className="sunMoon sun";
sunMoon.style.display="block";
clouds.style.opacity=.6;
}

if(type==="rain"){
document.body.style.background="#2c3e50";
clouds.style.opacity=.7;
rain.style.opacity=1;
createRain(120);
}

if(type==="storm"){
document.body.style.background="#0f0f0f";
clouds.style.opacity=.9;
fog.style.opacity=.3;
rain.style.opacity=1;
createRain(220);
startLightning();
}

if(type==="mist"){
document.body.style.background="#5f6c7b";
fog.style.opacity=.5;
}

if(type==="night"){
document.body.style.background="#020617";
sunMoon.className="sunMoon moon";
sunMoon.style.display="block";
stars.style.opacity=1;
}
}
</script>

</body>
</html>
